<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="card">

  <h2>Welcome Student ðŸŽ“</h2>

  <p id="userEmail"></p>

  <button onclick="completeRegistration()">Complete Registration</button>
  <button onclick="logout()">Logout</button>

</div>


<script type="module">

import { initializeApp }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";

import {
  getAuth,
  onAuthStateChanged,
  signOut
}
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";


const firebaseConfig = {
  apiKey: "AIzaSyDFZLqKmwGfJ2Q9HZUDzsLW5MQo7pv1YSY",
  authDomain: "c-competition-portal.firebaseapp.com",
  projectId: "c-competition-portal",
  appId: "1:242421140127:web:8e2dc9023bf8c5ec3530aa"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);



/* show logged in user */
onAuthStateChanged(auth, user => {
  if(user){
    document.getElementById("userEmail").innerText =
      "Logged in as: " + user.email;
  }
  else{
    window.location.href = "competition.html";
  }
});


/* logout */
window.logout = function(){
  signOut(auth).then(()=>{
    window.location.href = "competition.html";
  });
}


/* complete registration */
window.completeRegistration = function(){
  alert("Registration form coming soon!");
}

</script>

</body>
</html>